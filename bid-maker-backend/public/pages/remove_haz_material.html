<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Taufiq Pias" />
    <title>Remove Haz Material - BMT</title>
    <link rel="icon" type="image/x-icon" href="..\Images\Favicon.png" />
    <link rel="stylesheet" href="styles.css" />
    <script>
      (function () {
        const savedMode = localStorage.getItem("themeMode");
        const prefersDark = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;
        if (savedMode === "dark" || (!savedMode && prefersDark)) {
          document.documentElement.classList.add("dark-mode"); // Changed to <html>
        }
        // Only collapse .info-content on mobile initially
        if (window.matchMedia("(max-width: 1200px)").matches) {
          document.querySelectorAll(".info-content").forEach((el) => {
            el.classList.add("collapsed");
          });
        }
      })();
    </script>
    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-M2K232X4B3"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-M2K232X4B3");
    </script>

    <script type="text/javascript">
      (function (c, l, a, r, i, t, y) {
        c[a] =
          c[a] ||
          function () {
            (c[a].q = c[a].q || []).push(arguments);
          };
        t = l.createElement(r);
        t.async = 1;
        t.src = "https://www.clarity.ms/tag/" + i;
        y = l.getElementsByTagName(r)[0];
        y.parentNode.insertBefore(t, y);
      })(window, document, "clarity", "script", "qj1sdmrlho");
    </script>
  </head>

  <body>
    <div class="main-container">
      <!-- Information Area -->
      <div class="info-container">
        <button class="toggle-btn">Toggle Information</button>
        <div class="info-content">
          <h2>Information</h2>
          <p>
            Fill out the form accordingly to generate a bid. The following
            prices are provided as a ranged parameter taken from RepairBase
            2024.
          </p>
          <p><strong>Prices: Approximate Range</strong></p>
          <p>
            <b>Please check client allowable prices for bid price.</b> <br />
          </p>

          <p>
            Hazardous materials are substances that pose a risk to health,
            safety, or the environment. Proper removal and disposal of these
            materials are critical to ensure compliance with local, state, and
            federal regulations. Below are some common examples of hazardous
            materials and guidelines for their removal:
          </p>
          <ul>
            <li>
              <strong>Broken Glass:</strong> Sharp edges can cause injuries.
              Ensure proper handling and disposal in puncture-resistant
              containers.
            </li>
            <li>
              <strong>Gas Tanks:</strong> Flammable and potentially explosive.
              Must be handled by trained professionals and disposed of at
              designated facilities.
            </li>
            <li>
              <strong>Fire Extinguishers:</strong> May contain pressurized
              chemicals. Do not puncture or incinerate. Return to manufacturers
              or recycling centers.
            </li>
            <li>
              <strong>Nails:</strong> Sharp and can cause injuries. Collect and
              dispose of in sturdy containers to prevent accidents.
            </li>
            <li>
              <strong>Paint Cans:</strong> May contain toxic chemicals or
              solvents. Ensure cans are empty or dried out before disposal.
            </li>
            <li>
              <strong>Oil Cans:</strong> Contain flammable or toxic substances.
              Dispose of at approved hazardous waste facilities.
            </li>
          </ul>
          <p>
            <br />

            <b>
              <p style="color: brown">
                ***Consult with your Team Lead before submitting the price.***
              </p>
            </b>
            <b>
              <p style="color: brown">
                ***Please copy the bids before visiting other pages. Bids will
                not be saved once redirected.***
              </p>
            </b>
          </p>
        </div>
      </div>

      <div class="container">
        <button class="toggle-btn">Toggle Form</button>
        <div class="division">
          <h1>Debris & Personals Bid</h1>
          <h2>Remove Haz Material Bids</h2>
          <form id="HazmForm">
            <label for="bidPrefix"
              >Bid Prefix (for conjunction bid - Use a colon after
              prefix)</label
            >
            <input
              type="text"
              id="bidPrefix"
              name="bidPrefix"
              placeholder="Title: / Title-"
            />

            <label for="count">How many items need to removed?*</label>
            <input type="number" id="count" name="count" required />

            <label for="hazitems">Select an item:</label>
            <select id="hazitems" name="hazitems" required>
              <option value="">--Select an item--</option>
              <option value="group of broken glass">Broken Glass</option>
              <option value="gas tank(s)">Gas Tanks</option>
              <option value="fire extinguisher(s)">Fire Extinguisher</option>
              <option value="group of nails">Nails</option>
              <option value="paint can(s)">Paint Cans</option>
              <option value="oil can(s)">Oil Cans</option>
            </select>

            <label for="loc">Location:*</label>
            <input
              type="text"
              id="loc"
              name="loc"
              placeholder="kitchen, living room, red room, etc."
              required
            />

            <label for="additionalInfo">Additional information:</label>
            <textarea
              id="additionalInfo"
              name="additionalInfo"
              placeholder="Disclaimers or any other comment"
            ></textarea>

            <label for="conj">Make this bid conjunction to:</label>
            <input
              type="text"
              id="conj"
              name="conj"
              placeholder="Bid name only"
            />

            <label for="price">Price (in USD):</label>
            <input type="number" id="price" name="price" step="0.01" />

            <button type="submit">Generate Bid</button>
            <!-- <a href="https://www.zillow.com/" target="_blank" id="findpropsize">Find Property Size: Zillow</a> -->
          </form>
        </div>
      </div>

      <!-- New Note Section -->
      <div class="note-container">
        <h2>Bids</h2>
        <div id="notesList" class="notes-list">
          <!-- Notes will be dynamically added here -->
        </div>
        <button id="copyAllBidsButton">Copy All Bids</button>
        <a href="../index.html" id="home">
          <ion-icon name="home"></ion-icon> Go Home</a
        >
      </div>
    </div>

    <div id="floatingMessage" class="floating-message">Copied!</div>

    <!-- Script to Generate Bid -->
    <script>
      document
        .getElementById("HazmForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          // Get form values
          const bidPrefix = document.getElementById("bidPrefix").value;
          const count = document.getElementById("count").value;
          const hazitems = document.getElementById("hazitems").value;
          const loc = document.getElementById("loc").value;
          const additionalInfo =
            document.getElementById("additionalInfo").value;
          const conj = document.getElementById("conj").value;
          const price = parseFloat(document.getElementById("price").value || 0);

          // Format the price with commas
          const formattedPrice = price.toLocaleString("en-US", {
            style: "decimal",
            minimumFractionDigits: 2,
            maximumFractionDigits: 2,
          });

          // Generate the bid text
          const bidText = `${bidPrefix} Need to remove ${count} ${hazitems} from the ${loc}. - includes disposal. Hazardous Type Debris. ${
            conj ? `***Must be approved in conjunction to ${conj} bid.***` : ""
          } ${additionalInfo}\nPrice: $${formattedPrice}`;
          // Save the bid as a note
          saveBidAsNote(bidText);
        });
    </script>

    <script src="blocker.js"></script>
    <script src="..\dark_mode.js"></script>
    <script src="script_other.js"></script>
  </body>
</html>
